import{P as n,R as r,S as o,T as i,Q as c}from"../index51180.js";class t{static async fetchAll(e){return(await n("/api/users",e)).data}static async getUserDetail(e){return(await n(`/gestionale-api/public/api/admin/users/${e}?include=profile`)).data}static async createUser(e){return(await r("/gestionale-api/public/api/admin/users",e.user)).data.user}static async deleteUser(e){return(await o(`/gestionale-api/public/api/admin/users/${e}`)).data}static async updateUser(e){return(await i(`/gestionale-api/public/api/admin/users/${e.user.id}`,e.user)).data.user}static async changePassword(e){return(await r(`/api/users/${e.user.id}/change_password`,e)).data.user}static async getDashboardData(e){return(await r("/admin/dashboard",e)).data}static async changeStatus(e){return(await i(`/gestionale-api/public/api/admin/users/${e.user_id}/changeStatus/${e.is_active}`,e)).data}}const p=c({id:"user",state:()=>({user:{},users:[],response_users:{},total_users:Number,dashboard:{},users_select_list:[]}),getters:{allUsers:s=>s.response_users.users,responseUsers:s=>s.response_users,getTotalUsers:s=>s.response_users?s.response_users.total:0,getCurrentUser:s=>s.user,userRoles:()=>[{name:"Operatore",value:"user"},{name:"Admin",value:"admin"},{name:"Partner",value:"MP"},{name:"Mediatore",value:"AG2"},{name:"Agente",value:"AG1"}],clusters:()=>[{name:"A",value:"A"},{name:"B",value:"B"},{name:"C",value:"C"}],getDashboardData:s=>s.dashboard,getUsersSelectList:s=>s.users_select_list},actions:{async fetchAllUsers(s,e){await t.fetchAll(s).then(a=>e?this.users_select_list=this.addClusterToUsersList(a):this.response_users=a)},async fetchUserDetail(s){await t.getUserDetail(s).then(e=>this.user=e)},async createUser(s){await t.createUser(s).then(e=>this.user=e)},async updateUser(s){await t.updateUser(s).then(e=>this.user=e)},async deleteUser(s){await t.deleteUser(s).then(e=>this.user=e)},async fetchDashboardData(s){await t.getDashboardData(s).then(e=>this.dashboard=e)},async changeStatus(s){await t.changeStatus(s)},addClusterToUsersList(s){const e=new Array;return s.data&&s.data.forEach(a=>{const u={name:a.profile.name+" "+a.profile.surname+" ("+a.profile.cluster+")",value:a.id};e.push(u)}),e}}});export{p as u};
