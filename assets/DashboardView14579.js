import{o as C,m as V,p as h,a as M,c as U,_ as g,r as f,b as w,e as y,g as e,f as o,w as c,F as R,i as r}from"../index14579.js";import{D}from"./datetime14579.js";import{s as A,h as v,e as N}from"./helpers14579.js";import{u as P}from"./user14579.js";const S={setup(){C(()=>{var _,b;s.value=(b=(_=m.config)==null?void 0:_.locale)==null?void 0:b.monthNames;const p=D.local();i.value=s.value[p.month-1],t.value=D.local().year,d.value=new Array;for(let x=2013;x<=+t.value;x++)d.value.push(x);n()});const m=V(),s=h(),d=h(),t=h(),i=h(),u=M(),l=P(),a=U(()=>l.getDashboardData),n=async function(){const p={month:i.value,year:t.value};A(),await l.fetchDashboardData(p).then(()=>{v()}).catch(_=>{v(),N(u,_)})};return{months:s,years:d,selectedYear:t,selectedMonth:i,dashboardData:a,fecthAllData:n}},components:{}};const k={class:"flex align-items-center"},q={class:"flex align-items-center mt-5 flex-wrap gap-3 dashboard"},B=e("p",{class:"text-lg"},"Utenti totali attivi",-1),T={class:"text-3xl"},Y=e("p",{class:"text-lg"},"Nuovi utenti/mese",-1),F={class:"text-3xl"},L=e("p",{class:"text-lg"},"Utenti attivi/mese",-1),j={class:"text-3xl"},E=e("p",{class:"text-lg"},"Richieste con risposta",-1),W={class:"text-3xl"},z=e("p",{class:"text-lg"},"Richieste/mese",-1),G={class:"text-3xl"},H=e("p",{class:"text-lg"},"Richieste solubili",-1),I={class:"text-3xl"};function J(m,s,d,t,i,u){const l=f("Dropdown"),a=f("Card");return w(),y(R,null,[e("div",k,[o(l,{modelValue:t.selectedYear,"onUpdate:modelValue":s[0]||(s[0]=n=>t.selectedYear=n),options:t.years,class:"w-full md:w-14rem mr-3",onChange:s[1]||(s[1]=n=>t.fecthAllData())},null,8,["modelValue","options"]),o(l,{modelValue:t.selectedMonth,"onUpdate:modelValue":s[2]||(s[2]=n=>t.selectedMonth=n),options:t.months,class:"w-full md:w-14rem",onChange:s[3]||(s[3]=n=>t.fecthAllData())},null,8,["modelValue","options"])]),e("div",q,[o(a,{class:"text-center col-4"},{content:c(()=>[B,e("b",T,r(t.dashboardData.activeUsersTotal||"-"),1)]),_:1}),o(a,{class:"text-center col-4"},{content:c(()=>[Y,e("b",F,r(t.dashboardData.usersPerMonth||"-"),1)]),_:1}),o(a,{class:"text-center col-4"},{content:c(()=>[L,e("b",j,r(t.dashboardData.activeUsersPerMonth||"-"),1)]),_:1}),o(a,{class:"text-center col-4"},{content:c(()=>[E,e("b",W,r(t.dashboardData.requestsWithResponse||"-"),1)]),_:1}),o(a,{class:"text-center col-4"},{content:c(()=>[z,e("b",G,r(t.dashboardData.requestsPerMonth||"-"),1)]),_:1}),o(a,{class:"text-center col-4"},{content:c(()=>[H,e("b",I,r(t.dashboardData.greenStatusRequests||"-"),1)]),_:1})])],64)}const K=g(S,[["render",J]]),O={setup(){return{}},components:{DashboardCard:K}},Q=e("div",{class:"flex justify-content-between align-items-center"},[e("h1",null,"Dashboard")],-1);function X(m,s,d,t,i,u){const l=f("DashboardCard");return w(),y("div",null,[Q,o(l)])}const st=g(O,[["render",X]]);export{st as default};
