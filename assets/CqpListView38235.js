import{d as F,a1 as k,z,q as E,a2 as w,f as C,o as U,r as u,G as L,h as _,i as y,k as i,x as d,j as t,w as a,H as b,l as p,a3 as m,$ as N,L as $,a4 as B,N as P,K as I}from"../index38235.js";const A={class:"flex justify-content-between align-items-center"},O={key:0},j={key:1},H={class:"flex flex-row"},G={class:"ml-2"},Q=30,R=F({__name:"CqpTable",setup(V){const l=k(),s=z(),f=E({first_name:{value:"",matchMode:w.LIKE},last_name:{value:"",matchMode:w.LIKE},tax_code:{value:"",matchMode:w.EQ}}),D=C(()=>l.getAllCqpEval),v=C(()=>l.getTotalCqpEval),S=()=>{l.table.onFilter(f.value)},M=function(){s.setDetailType("cqpDetail",!0,"Nuova preaccettazione",null),s.updateSidebar(!0),s.setShowDetail(!0)},q=function(g){s.setDetailType("cqpDetail",!1,"Dettaglio preaccettazione",g.id,void 0,!1),s.updateSidebar(!0)};return U(()=>{l.table.loadLazyData()}),(g,c)=>{const x=u("Button"),h=u("InputText"),n=u("Column"),K=u("DataTable"),T=L("tooltip");return _(),y("div",null,[i("div",A,[i("h1",null,[v.value==1?(_(),y("span",O," 1 Preaccettazione")):(_(),y("span",j,d(v.value)+" Preaccettazioni",1))]),i("div",null,[t(x,{label:"Aggiungi preaccettazione",class:"mb-3",rounded:"",outlined:"",onClick:c[0]||(c[0]=e=>M()),severity:"contrast"})])]),t(K,{value:D.value,"total-records":v.value,lazy:!0,paginator:!0,rows:Q,filters:f.value,"onUpdate:filters":c[1]||(c[1]=e=>f.value=e),loading:m(l).table.isLoading,onFilter:S,onPage:m(l).table.onPage,filterDisplay:"row",removableSort:"",stripedRows:""},{default:a(()=>[t(n,{field:"first_name",header:"Nome",showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1},{filter:a(({filterModel:e,filterCallback:r})=>[t(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,onKeydown:b(o=>r(),["enter"]),class:"p-column-filter",placeholder:"Filtra per nome"},null,8,["modelValue","onUpdate:modelValue","onKeydown"])]),body:a(({data:e})=>[p(d(e.first_name),1)]),_:1}),t(n,{field:"last_name",header:"Cognome",showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1},{filter:a(({filterModel:e,filterCallback:r})=>[t(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,onKeydown:b(o=>r(),["enter"]),class:"p-column-filter",placeholder:"Filtra per cognome"},null,8,["modelValue","onUpdate:modelValue","onKeydown"])]),body:a(({data:e})=>[p(d(e.last_name),1)]),_:1}),t(n,{field:"tax_code",header:"Codice fiscale",showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1},{filter:a(({filterModel:e,filterCallback:r})=>[t(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":o=>e.value=o,onKeydown:b(o=>r(),["enter"]),class:"p-column-filter",placeholder:"Filtra per codice fiscale"},null,8,["modelValue","onUpdate:modelValue","onKeydown"])]),body:a(({data:e})=>[p(d(e.tax_code),1)]),_:1}),t(n,{field:"birthday",header:"Data di aggiunta"},{body:a(({data:e})=>[p(d(m(N)(e.created_at)),1)]),_:1}),t(n,{field:"status",header:"Stato"},{body:a(({data:e})=>[i("div",H,[i("i",{class:$(["pi pi-circle-fill",{"text-green-300":e.evaluation_passed,"text-red-600":!e.evaluation_passed}])},null,2),i("div",G,d(m(B)(e)),1)])]),_:1}),t(n,{header:"",style:{width:"4rem"}},{body:a(({data:e})=>[P(t(x,{type:"button",onClick:r=>q(e),"aria-haspopup":"true","aria-controls":"overlay_menu",class:"mr-3",icon:"pi pi-arrow-right",text:"",rounded:""},null,8,["onClick"]),[[T,"Modifica",void 0,{top:!0}]])]),_:1})]),_:1},8,["value","total-records","filters","loading","onPage"])])}}}),W=F({__name:"CqpListView",setup(V){return(l,s)=>(_(),I(R))}});export{W as default};
